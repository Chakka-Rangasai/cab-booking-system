<div class="split-screen">
  <!-- Left Panel with Image -->
  <div class="left-panel">
    <img src="/Images/Driverimg.png" alt="Reset Password Background" />
  </div>

  <!-- Right Panel with Form -->
  <div class="right-panel">
    <div class="otp-request-container">
      <h2 class="otp-title">Reset Your Password</h2>

      <!-- Error Message Display -->
      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>

      <form class="otp-form" #otpForm="ngForm" (ngSubmit)="onSendOtp(otpForm)">
        <!-- Email Field -->
        <label for="email">Email</label>
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="email"
          required
          pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
          #emailField="ngModel"
        />
        <div class="error" *ngIf="emailField.invalid && emailField.touched">
          <span *ngIf="emailField.errors?.['required']">Email is required.</span>
          <span *ngIf="emailField.errors?.['pattern']">Enter a valid email address.</span>
        </div>

        <!-- Mobile Field -->
        <label for="mobile">Mobile</label>
        <input
          type="tel"
          id="mobile"
          name="mobile"
          [(ngModel)]="mobile"
          required
          pattern="^[6-9][0-9]{9}$"
          placeholder="Enter 10-digit mobile number"
          #mobileField="ngModel"
        />
        <div class="error" *ngIf="mobileField.invalid && mobileField.touched">
          <span *ngIf="mobileField.errors?.['required']">Mobile number is required.</span>
          <span *ngIf="mobileField.errors?.['pattern']">Enter a valid 10-digit mobile number (starting with 6-9).</span>
        </div>

        <button type="submit" class="otp-btn" [disabled]="isLoading">
          <span *ngIf="isLoading">Sending OTP...</span>
          <span *ngIf="!isLoading">Send OTP</span>
        </button>
      </form>

      <div *ngIf="otpSent" class="success-message">
        <p>OTP sent successfully! Please check your email or SMS.</p>
      </div>

      <!-- Back to Login Link -->
      <div class="back-to-login">
        <p>Remember your password? <a (click)="onBackToLogin()" style="cursor: pointer; color: #1976d2;">Back to Login</a></p>
      </div>
    </div>
  </div>
</div>

