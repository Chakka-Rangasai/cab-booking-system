<div class="page-wrapper">
  <div class="driver-container">
    <h2 class="driver-title">Driver Registration</h2>

    <form class="driver-form" (ngSubmit)="onRegisterDriver(driverForm)" #driverForm="ngForm">
      <!-- Error Message Display -->
      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="fullName">Full Name *</label>
          <input type="text" id="fullName" name="fullName" [(ngModel)]="fullName" required #fullNameField="ngModel" />
          <div *ngIf="fullNameField.invalid && fullNameField.touched" class="field-error">
            <span *ngIf="fullNameField.errors?.['required']">Full name is required</span>
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email *</label>
          <input type="email" id="email" name="email" [(ngModel)]="email" required email #emailField="ngModel" />
          <div *ngIf="emailField.invalid && emailField.touched" class="field-error">
            <span *ngIf="emailField.errors?.['required']">Email is required</span>
            <span *ngIf="emailField.errors?.['email']">Please enter a valid email address</span>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="password">Password *</label>
          <input type="password" id="password" name="password" [(ngModel)]="password" required minlength="8" #passwordField="ngModel" />
          <div *ngIf="passwordField.invalid && passwordField.touched" class="field-error">
            <span *ngIf="passwordField.errors?.['required']">Password is required</span>
            <span *ngIf="passwordField.errors?.['minlength']">Password must be at least 8 characters long</span>
          </div>
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm Password *</label>
          <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="confirmPassword" required #confirmPasswordField="ngModel" />
          <div *ngIf="confirmPasswordField.invalid && confirmPasswordField.touched" class="field-error">
            <span *ngIf="confirmPasswordField.errors?.['required']">Please confirm your password</span>
          </div>
          <div *ngIf="confirmPasswordField.valid && passwordField.valid && password !== confirmPassword && confirmPasswordField.touched" class="field-error">
            <span>Passwords do not match</span>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="phoneNumber">Phone Number *</label>
          <input type="tel" id="phoneNumber" name="phoneNumber" [(ngModel)]="phoneNumber" required pattern="^[6-9][0-9]{9}$" placeholder="10-digit mobile number" #phoneNumberField="ngModel" />
          <div *ngIf="phoneNumberField.invalid && phoneNumberField.touched" class="field-error">
            <span *ngIf="phoneNumberField.errors?.['required']">Phone number is required</span>
            <span *ngIf="phoneNumberField.errors?.['pattern']">Please enter a valid 10-digit Indian mobile number (starting with 6-9)</span>
          </div>
        </div>

        <div class="form-group">
          <label for="licenseNumber">License Number *</label>
          <input type="text" id="licenseNumber" name="licenseNumber" [(ngModel)]="licenseNumber" required #licenseNumberField="ngModel" />
          <div *ngIf="licenseNumberField.invalid && licenseNumberField.touched" class="field-error">
            <span *ngIf="licenseNumberField.errors?.['required']">License number is required</span>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="vehicleModel">Vehicle Model *</label>
          <input type="text" id="vehicleModel" name="vehicleModel" [(ngModel)]="vehicleModel" required placeholder="e.g., Maruti Swift, Hyundai Creta" #vehicleModelField="ngModel" />
          <div *ngIf="vehicleModelField.invalid && vehicleModelField.touched" class="field-error">
            <span *ngIf="vehicleModelField.errors?.['required']">Vehicle model is required</span>
          </div>
        </div>

        <div class="form-group">
          <label for="vehicleRegNo">Vehicle Registration Number *</label>
          <input type="text" id="vehicleRegNo" name="vehicleRegNo" [(ngModel)]="vehicleRegNo" required placeholder="e.g., MH01AB1234" #vehicleRegNoField="ngModel" />
          <div *ngIf="vehicleRegNoField.invalid && vehicleRegNoField.touched" class="field-error">
            <span *ngIf="vehicleRegNoField.errors?.['required']">Vehicle registration number is required</span>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="vehicleColor">Vehicle Color *</label>
          <input type="text" id="vehicleColor" name="vehicleColor" [(ngModel)]="vehicleColor" required placeholder="e.g., White, Black, Red" #vehicleColorField="ngModel" />
          <div *ngIf="vehicleColorField.invalid && vehicleColorField.touched" class="field-error">
            <span *ngIf="vehicleColorField.errors?.['required']">Vehicle color is required</span>
          </div>
        </div>

        <div class="form-group">
          <label for="capacity">Vehicle Capacity *</label>
          <select id="capacity" name="capacity" [(ngModel)]="capacity" required #capacityField="ngModel">
            <option value="2">2 Seats</option>
            <option value="4" selected>4 Seats</option>
            <option value="6">6 Seats</option>
            <option value="8">8 Seats</option>
          </select>
          <div *ngIf="capacityField.invalid && capacityField.touched" class="field-error">
            <span *ngIf="capacityField.errors?.['required']">Vehicle capacity is required</span>
          </div>
        </div>
      </div>

      <button type="submit" class="driver-btn" [disabled]="isLoading">
        <span *ngIf="isLoading">Registering...</span>
        <span *ngIf="!isLoading">Register</span>
      </button>
    </form>

    <!-- Login Button Section -->
    
<div class="login-section">
  <p>Already have an account?</p>
  <button type="button" class="btn user-btn" (click)="onDriverLoginBtn()">Login</button>
</div>



